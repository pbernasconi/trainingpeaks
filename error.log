{"level":"error","message":"Login failed: No element found for selector: #username","stack":"Error: No element found for selector: #username\n    at assert (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/util/assert.ts:19:11)\n    at CdpFrame.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/Frame.ts:1151:11)\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:46:7)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:8:5)","timestamp":"2024-11-21T03:51:40.367Z"}
{"level":"error","message":"Login failed: text is not iterable","stack":"TypeError: text is not iterable\n    at CdpKeyboard.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/cdp/Input.ts:182:24)\n    at CdpElementHandle.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/ElementHandle.ts:1087:38)\n    at CdpElementHandle.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/ElementHandle.ts:139:20)\n    at CdpFrame.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/Frame.ts:1152:5)\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:46:7)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:8:5)","timestamp":"2024-11-21T03:55:47.405Z"}
{"level":"error","message":"Login failed: text is not iterable","stack":"TypeError: text is not iterable\n    at CdpKeyboard.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/cdp/Input.ts:182:24)\n    at CdpElementHandle.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/ElementHandle.ts:1087:38)\n    at CdpElementHandle.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/ElementHandle.ts:139:20)\n    at CdpFrame.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/Frame.ts:1152:5)\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:47:7)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:8:5)","timestamp":"2024-11-21T03:57:08.307Z"}
{"level":"error","message":"Login failed: text is not iterable","stack":"TypeError: text is not iterable\n    at CdpKeyboard.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/cdp/Input.ts:182:24)\n    at CdpElementHandle.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/ElementHandle.ts:1087:38)\n    at CdpElementHandle.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/ElementHandle.ts:139:20)\n    at CdpFrame.type (/Users/paolo/work/newstuff/trainingpeaks/node_modules/puppeteer-core/src/api/Frame.ts:1152:5)\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:47:7)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:8:5)","timestamp":"2024-11-21T04:00:56.153Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:02:09.459Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:02:12.572Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:03:34.711Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:04:55.810Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:05:01.777Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:06:21.160Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:08:35.354Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:09:58.109Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:11:03.385Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:11:27.492Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:11:31.574Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:11:47.373Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:12:00.420Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:16:21.201Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T04:17:12.025Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T15:09:39.675Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T15:11:47.888Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T15:13:40.158Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T15:38:53.506Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T15:40:14.766Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T15:44:33.040Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T15:45:40.489Z"}
{"level":"error","message":"Scheduled task failed:","timestamp":"2024-11-21T16:09:31.469Z"}
{"level":"error","message":"Scheduled task failed: No user ID found","stack":"Error: No user ID found\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:40:15)\n    at Scheduler.startScheduler (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:21:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:16:15)","timestamp":"2024-11-21T16:10:20.731Z"}
{"level":"error","message":"Scheduled task failed: Failed to get user ID after authentication","stack":"Error: Failed to get user ID after authentication\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:48:15)","timestamp":"2024-11-21T16:13:51.063Z"}
{"level":"error","message":"Scheduled task failed: Failed to get user ID after authentication","stack":"Error: Failed to get user ID after authentication\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:48:15)","timestamp":"2024-11-21T16:15:01.774Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:21:43.814Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:25:36.909Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:29:36.143Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:30:45.349Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:31:50.940Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:34:22.020Z"}
{"level":"error","message":"Scheduled task failed: Failed to fetch workouts","stack":"Error: Failed to fetch workouts\n    at TrainingPeaksService.getWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:28:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:57:24)","timestamp":"2024-11-21T16:35:54.517Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:41:44.317Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:41:57.242Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:42:27.954Z"}
{"level":"error","message":"Scheduled task failed: Failed to fetch workouts","stack":"Error: Failed to fetch workouts\n    at TrainingPeaksService.getWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:28:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:57:24)","timestamp":"2024-11-21T16:44:19.628Z"}
{"level":"error","message":"Scheduled task failed: Failed to fetch workouts","stack":"Error: Failed to fetch workouts\n    at TrainingPeaksService.getWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:28:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:57:24)","timestamp":"2024-11-21T16:45:18.859Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T16:49:29.893Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout: AxiosError: Request failed with status code 400","stack":"Error: Failed to update workout: AxiosError: Request failed with status code 400\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:13:51.522Z"}
{"level":"error","message":"Failed to process workout 2890466232: Failed to update workout: AxiosError: Request failed with status code 400","stack":"Error: Failed to update workout: AxiosError: Request failed with status code 400\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:13:51.627Z"}
{"level":"error","message":"Failed to process workout 2890577961: Failed to update workout: AxiosError: Request failed with status code 400","stack":"Error: Failed to update workout: AxiosError: Request failed with status code 400\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:13:51.729Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout: AxiosError: Request failed with status code 400","stack":"Error: Failed to update workout: AxiosError: Request failed with status code 400\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:15:46.348Z"}
{"level":"error","message":"Failed to process workout 2890466232: Failed to update workout: AxiosError: Request failed with status code 400","stack":"Error: Failed to update workout: AxiosError: Request failed with status code 400\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:15:46.446Z"}
{"level":"error","message":"Failed to process workout 2890577961: Failed to update workout: AxiosError: Request failed with status code 400","stack":"Error: Failed to update workout: AxiosError: Request failed with status code 400\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:15:46.545Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Use POST to create a new workout\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Use POST to create a new workout\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:17:57.951Z"}
{"level":"error","message":"Failed to process workout 2890466232: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Use POST to create a new workout\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Use POST to create a new workout\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:17:58.055Z"}
{"level":"error","message":"Failed to process workout 2890577961: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Use POST to create a new workout\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890577961\nRequest method: put\nRequest data: \"{}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Use POST to create a new workout\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890577961\nRequest method: put\nRequest data: \"{}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:84:11)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:39:7)","timestamp":"2024-11-21T18:17:58.162Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T18:18:20.397Z"}
{"error":{"error":{"message":"invalid x-api-key","type":"authentication_error"},"type":"error"},"headers":{"cf-cache-status":"DYNAMIC","cf-ray":"8e62e325af8dcf13-SJC","connection":"keep-alive","content-length":"86","content-type":"application/json","date":"Thu, 21 Nov 2024 18:54:16 GMT","request-id":"req_01GPGgCVk6uXbThsywkFFNz4","server":"cloudflare","via":"1.1 google","x-robots-tag":"none","x-should-retry":"false"},"level":"error","message":"Failed to process workout 2890462956: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}","stack":"Error: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}\n    at Function.generate (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/error.ts:62:14)\n    at Anthropic.makeStatusError (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:383:21)\n    at Anthropic.makeRequest (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:446:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ClaudeService.transformWorkoutDescription (/Users/paolo/work/newstuff/trainingpeaks/src/services/claude.service.ts:36:22)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:90:39)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","status":401,"timestamp":"2024-11-21T18:54:15.990Z"}
{"error":{"error":{"message":"invalid x-api-key","type":"authentication_error"},"type":"error"},"headers":{"cf-cache-status":"DYNAMIC","cf-ray":"8e62e326699bcf13-SJC","connection":"keep-alive","content-length":"86","content-type":"application/json","date":"Thu, 21 Nov 2024 18:54:16 GMT","request-id":"req_01HNQx8Cwci3ghP766Ep9eQP","server":"cloudflare","via":"1.1 google","x-robots-tag":"none","x-should-retry":"false"},"level":"error","message":"Failed to process workout 2890466232: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}","stack":"Error: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}\n    at Function.generate (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/error.ts:62:14)\n    at Anthropic.makeStatusError (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:383:21)\n    at Anthropic.makeRequest (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:446:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ClaudeService.transformWorkoutDescription (/Users/paolo/work/newstuff/trainingpeaks/src/services/claude.service.ts:36:22)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:90:39)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","status":401,"timestamp":"2024-11-21T18:54:16.098Z"}
{"error":{"error":{"message":"invalid x-api-key","type":"authentication_error"},"type":"error"},"headers":{"cf-cache-status":"DYNAMIC","cf-ray":"8e62e3271b64cf13-SJC","connection":"keep-alive","content-length":"86","content-type":"application/json","date":"Thu, 21 Nov 2024 18:54:16 GMT","request-id":"req_01E6PgYVq5BFdu6eQaJTYnB9","server":"cloudflare","via":"1.1 google","x-robots-tag":"none","x-should-retry":"false"},"level":"error","message":"Failed to process workout 2890577961: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}","stack":"Error: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}\n    at Function.generate (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/error.ts:62:14)\n    at Anthropic.makeStatusError (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:383:21)\n    at Anthropic.makeRequest (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:446:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ClaudeService.transformWorkoutDescription (/Users/paolo/work/newstuff/trainingpeaks/src/services/claude.service.ts:36:22)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:90:39)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","status":401,"timestamp":"2024-11-21T18:54:16.204Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T18:55:52.332Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3M54UIVUNYDRMUJPGAY6KFHRGDI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":3}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Main Workout\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":7200},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":70,\\\"MaxValue\\\":130}},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":3}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3M54UIVUNYDRMUJPGAY6KFHRGDI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":3}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Main Workout\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":7200},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":70,\\\"MaxValue\\\":130}},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":3}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:98:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T18:59:36.167Z"}
{"level":"error","message":"Failed to process workout 2890466232: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890466232,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"Hills\\\",\\\"workoutTypeValueId\\\":3,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-28T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"Remember to do prerun activation!\\\\n10-15 minute warm up\\\\n\\\\n10 x 1 minute hills - RPE 7-8 - heart rate max 170, 2 minute jog rest\\\\n\\\\n10-15 minute cooldown\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"YGO5EVFFH2USNIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"CDA55G3ZDVWURM54UIVUNYDRMUJPGAY6KFHRGDI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":1,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.25\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":4}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Hill Repeats\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":1200},\\\"Type\\\":\\\"Repetition\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":7,\\\"MinValue\\\":7,\\\"MaxValue\\\":8},\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Hill\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":60},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":85}},{\\\"IntensityClass\\\":\\\"Rest\\\",\\\"Name\\\":\\\"Jog Rest\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":120},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":4}}]},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":4}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890466232,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"Hills\\\",\\\"workoutTypeValueId\\\":3,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-28T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"Remember to do prerun activation!\\\\n10-15 minute warm up\\\\n\\\\n10 x 1 minute hills - RPE 7-8 - heart rate max 170, 2 minute jog rest\\\\n\\\\n10-15 minute cooldown\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"YGO5EVFFH2USNIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"CDA55G3ZDVWURM54UIVUNYDRMUJPGAY6KFHRGDI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":1,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.25\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":4}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Hill Repeats\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":1200},\\\"Type\\\":\\\"Repetition\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":7,\\\"MinValue\\\":7,\\\"MaxValue\\\":8},\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Hill\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":60},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":85}},{\\\"IntensityClass\\\":\\\"Rest\\\",\\\"Name\\\":\\\"Jog Rest\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":120},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":4}}]},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":4}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:98:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T18:59:43.469Z"}
{"level":"error","message":"Failed to process workout 2890577961: Expected property name or '}' in JSON at position 3190","stack":"SyntaxError: Expected property name or '}' in JSON at position 3190\n    at JSON.parse (<anonymous>)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:91:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T18:59:56.720Z"}
{"error":{"error":{"message":"max_tokens: 100000 > 8192, which is the maximum allowed number of output tokens for claude-3-5-sonnet-20241022","type":"invalid_request_error"},"type":"error"},"headers":{"cf-cache-status":"DYNAMIC","cf-ray":"8e63a8e66aaa2364-SJC","connection":"keep-alive","content-length":"180","content-type":"application/json","date":"Thu, 21 Nov 2024 21:09:16 GMT","request-id":"req_014sZWhoB8aJFhinKZ7eqomR","server":"cloudflare","via":"1.1 google","x-robots-tag":"none","x-should-retry":"false"},"level":"error","message":"Failed to process workout 2890462956: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"max_tokens: 100000 > 8192, which is the maximum allowed number of output tokens for claude-3-5-sonnet-20241022\"}}","stack":"Error: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"max_tokens: 100000 > 8192, which is the maximum allowed number of output tokens for claude-3-5-sonnet-20241022\"}}\n    at Function.generate (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/error.ts:58:14)\n    at Anthropic.makeStatusError (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:383:21)\n    at Anthropic.makeRequest (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:446:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ClaudeService.transformWorkoutDescription (/Users/paolo/work/newstuff/trainingpeaks/src/services/claude.service.ts:37:22)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:90:39)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","status":400,"timestamp":"2024-11-21T21:09:15.997Z"}
{"error":{"error":{"message":"max_tokens: 100000 > 8192, which is the maximum allowed number of output tokens for claude-3-5-sonnet-20241022","type":"invalid_request_error"},"type":"error"},"headers":{"cf-cache-status":"DYNAMIC","cf-ray":"8e63a8e75b9a2364-SJC","connection":"keep-alive","content-length":"180","content-type":"application/json","date":"Thu, 21 Nov 2024 21:09:16 GMT","request-id":"req_01Uo3SDUnNEJHTrJXMFkkxMD","server":"cloudflare","via":"1.1 google","x-robots-tag":"none","x-should-retry":"false"},"level":"error","message":"Failed to process workout 2890466232: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"max_tokens: 100000 > 8192, which is the maximum allowed number of output tokens for claude-3-5-sonnet-20241022\"}}","stack":"Error: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"max_tokens: 100000 > 8192, which is the maximum allowed number of output tokens for claude-3-5-sonnet-20241022\"}}\n    at Function.generate (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/error.ts:58:14)\n    at Anthropic.makeStatusError (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:383:21)\n    at Anthropic.makeRequest (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:446:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ClaudeService.transformWorkoutDescription (/Users/paolo/work/newstuff/trainingpeaks/src/services/claude.service.ts:37:22)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:90:39)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","status":400,"timestamp":"2024-11-21T21:09:16.115Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3IS4ZJH2N7BJF4WH3KXAQUAFWEY\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":65}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Main Endurance\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":12600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":130}},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":65}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3IS4ZJH2N7BJF4WH3KXAQUAFWEY\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":65}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Main Endurance\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":12600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":130}},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":600},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"PercentOfMaxHr\\\",\\\"Value\\\":65}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:98:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T21:09:46.326Z"}
{"level":"error","message":"Failed to process workout 2890466232: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890466232,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"Hills\\\",\\\"workoutTypeValueId\\\":3,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-28T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"Remember to do prerun activation!\\\\n10-15 minute warm up\\\\n\\\\n10 x 1 minute hills - RPE 7-8 - heart rate max 170, 2 minute jog rest\\\\n\\\\n10-15 minute cooldown\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"YGO5EVFFH2USNIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"CDA55G3ZDVWURIS4ZJH2N7BJF4WH3KXAQUAFWEY\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":1,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.25\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":3}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Hill Repeats\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":60},\\\"Type\\\":\\\"Repetition\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":7.5,\\\"MinValue\\\":7,\\\"MaxValue\\\":8}},{\\\"IntensityClass\\\":\\\"Rest\\\",\\\"Name\\\":\\\"Recovery Jog\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":120},\\\"Type\\\":\\\"Repetition\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":2}},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":2}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890466232,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"Hills\\\",\\\"workoutTypeValueId\\\":3,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-28T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"Remember to do prerun activation!\\\\n10-15 minute warm up\\\\n\\\\n10 x 1 minute hills - RPE 7-8 - heart rate max 170, 2 minute jog rest\\\\n\\\\n10-15 minute cooldown\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"YGO5EVFFH2USNIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"CDA55G3ZDVWURIS4ZJH2N7BJF4WH3KXAQUAFWEY\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":1,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.25\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":{\\\"Structure\\\":[{\\\"IntensityClass\\\":\\\"WarmUp\\\",\\\"Name\\\":\\\"Warm Up\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":3}},{\\\"IntensityClass\\\":\\\"Active\\\",\\\"Name\\\":\\\"Hill Repeats\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":60},\\\"Type\\\":\\\"Repetition\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":7.5,\\\"MinValue\\\":7,\\\"MaxValue\\\":8}},{\\\"IntensityClass\\\":\\\"Rest\\\",\\\"Name\\\":\\\"Recovery Jog\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":120},\\\"Type\\\":\\\"Repetition\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":2}},{\\\"IntensityClass\\\":\\\"CoolDown\\\",\\\"Name\\\":\\\"Cool Down\\\",\\\"Length\\\":{\\\"Unit\\\":\\\"Second\\\",\\\"Value\\\":900},\\\"Type\\\":\\\"Step\\\",\\\"IntensityTarget\\\":{\\\"Unit\\\":\\\"Rpe\\\",\\\"Value\\\":2}}]},\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:98:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T21:09:53.470Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T21:10:42.312Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3S4OQ46XAGGACOO3D7W5SG5XV7Q\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Warm Up\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Main Endurance\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 12600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 130\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3S4OQ46XAGGACOO3D7W5SG5XV7Q\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Warm Up\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Main Endurance\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 12600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 130\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T21:32:55.714Z"}
{"level":"error","message":"Failed to process workout 2890466232: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890466232,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"Hills\\\",\\\"workoutTypeValueId\\\":3,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-28T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"Remember to do prerun activation!\\\\n10-15 minute warm up\\\\n\\\\n10 x 1 minute hills - RPE 7-8 - heart rate max 170, 2 minute jog rest\\\\n\\\\n10-15 minute cooldown\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"YGO5EVFFH2USNIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"CDA55G3ZDVWURS4OQ46XAGGACOO3D7W5SG5XV7Q\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":1,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.25\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Warm Up\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 3\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Hill Repeats\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 60\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Repetition\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 7.5,\\\\n        \\\\\\\"MinValue\\\\\\\": 7,\\\\n        \\\\\\\"MaxValue\\\\\\\": 8\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Rest\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Recovery Jog\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 120\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Repetition\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 2\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 2\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890466232\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890466232,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"Hills\\\",\\\"workoutTypeValueId\\\":3,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-28T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"Remember to do prerun activation!\\\\n10-15 minute warm up\\\\n\\\\n10 x 1 minute hills - RPE 7-8 - heart rate max 170, 2 minute jog rest\\\\n\\\\n10-15 minute cooldown\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"YGO5EVFFH2USNIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"CDA55G3ZDVWURS4OQ46XAGGACOO3D7W5SG5XV7Q\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":1,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.25\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Warm Up\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 3\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Hill Repeats\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 60\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Repetition\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 7.5,\\\\n        \\\\\\\"MinValue\\\\\\\": 7,\\\\n        \\\\\\\"MaxValue\\\\\\\": 8\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Rest\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Recovery Jog\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 120\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Repetition\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 2\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Rpe\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 2\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T21:33:03.479Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B23PSS2MLLOQIZRKC2ER5GTHO2HQ\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Warm Up\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Main Endurance\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 12600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 130\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B23PSS2MLLOQIZRKC2ER5GTHO2HQ\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":2.75,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T11:20:52.077\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Warm Up\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Main Endurance\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 12600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 130\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T21:42:34.491Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B2TPTQP2JKP34VDAKYER3RMEZCVA\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"\\\\\\\"{\\\\\\\\n  \\\\\\\\\\\\\\\"Structure\\\\\\\\\\\\\\\": [\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"WarmUp\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Warm Up\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 65\\\\\\\\n      }\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Active\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Main Endurance\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 12600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 130\\\\\\\\n      }\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"CoolDown\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Cool Down\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 65\\\\\\\\n      }\\\\\\\\n    }\\\\\\\\n  ]\\\\\\\\n}\\\\\\\"\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B2TPTQP2JKP34VDAKYER3RMEZCVA\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"\\\\\\\"{\\\\\\\\n  \\\\\\\\\\\\\\\"Structure\\\\\\\\\\\\\\\": [\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"WarmUp\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Warm Up\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 65\\\\\\\\n      }\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Active\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Main Endurance\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 12600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 130\\\\\\\\n      }\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"CoolDown\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Cool Down\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 65\\\\\\\\n      }\\\\\\\\n    }\\\\\\\\n  ]\\\\\\\\n}\\\\\\\"\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:18:37.416Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B22DWW4VMIRA4ECDYJG6IHPMBDMI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"\\\\\\\"{\\\\\\\\n  \\\\\\\\\\\\\\\"Structure\\\\\\\\\\\\\\\": [\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"WarmUp\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 900\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 60\\\\\\\\n      }\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Active\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 5400\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Main Set\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"MaxValue\\\\\\\\\\\\\\\": 68,\\\\\\\\n        \\\\\\\\\\\\\\\"MinValue\\\\\\\\\\\\\\\": 65,\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 66.5\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Notes\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Keep heart rate below 130 bpm\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"OpenDuration\\\\\\\\\\\\\\\": true\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"CoolDown\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 55\\\\\\\\n      }\\\\\\\\n    }\\\\\\\\n  ]\\\\\\\\n}\\\\\\\"\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B22DWW4VMIRA4ECDYJG6IHPMBDMI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"\\\\\\\"{\\\\\\\\n  \\\\\\\\\\\\\\\"Structure\\\\\\\\\\\\\\\": [\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"WarmUp\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 900\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 60\\\\\\\\n      }\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Active\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 5400\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Main Set\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"MaxValue\\\\\\\\\\\\\\\": 68,\\\\\\\\n        \\\\\\\\\\\\\\\"MinValue\\\\\\\\\\\\\\\": 65,\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 66.5\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"Notes\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Keep heart rate below 130 bpm\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"OpenDuration\\\\\\\\\\\\\\\": true\\\\\\\\n    },\\\\\\\\n    {\\\\\\\\n      \\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Step\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityClass\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"CoolDown\\\\\\\\\\\\\\\",\\\\\\\\n      \\\\\\\\\\\\\\\"Length\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"Second\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 600\\\\\\\\n      },\\\\\\\\n      \\\\\\\\\\\\\\\"IntensityTarget\\\\\\\\\\\\\\\": {\\\\\\\\n        \\\\\\\\\\\\\\\"Unit\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"PercentOfMaxHr\\\\\\\\\\\\\\\",\\\\\\\\n        \\\\\\\\\\\\\\\"Value\\\\\\\\\\\\\\\": 55\\\\\\\\n      }\\\\\\\\n    }\\\\\\\\n  ]\\\\\\\\n}\\\\\\\"\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:21:53.756Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T22:23:17.695Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B33SVXVVVSHZEOODYJG6IHPMBDMI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 60\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 10800\\\\n      },\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65,\\\\n        \\\\\\\"MaxValue\\\\\\\": 70\\\\n      },\\\\n      \\\\\\\"Notes\\\\\\\": \\\\\\\"Keep heart rate below 130bpm\\\\\\\",\\\\n      \\\\\\\"OpenDuration\\\\\\\": true\\\\n    },\\\\n    {\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 55\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B33SVXVVVSHZEOODYJG6IHPMBDMI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"Structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 60\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 10800\\\\n      },\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 65,\\\\n        \\\\\\\"MaxValue\\\\\\\": 70\\\\n      },\\\\n      \\\\\\\"Notes\\\\\\\": \\\\\\\"Keep heart rate below 130bpm\\\\\\\",\\\\n      \\\\\\\"OpenDuration\\\\\\\": true\\\\n    },\\\\n    {\\\\n      \\\\\\\"Type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"IntensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"Length\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"IntensityTarget\\\\\\\": {\\\\n        \\\\\\\"Unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"Value\\\\\\\": 55\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:23:36.189Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3Q55WHV4NSMC3SDYJG6IHPMBDMI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Warm up\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 60,\\\\n        \\\\\\\"minValue\\\\\\\": 55,\\\\n        \\\\\\\"maxValue\\\\\\\": 65\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Main Set\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 12600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 65,\\\\n        \\\\\\\"maxValue\\\\\\\": 70,\\\\n        \\\\\\\"minValue\\\\\\\": 60\\\\n      },\\\\n      \\\\\\\"openDuration\\\\\\\": true\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 55,\\\\n        \\\\\\\"minValue\\\\\\\": 50,\\\\n        \\\\\\\"maxValue\\\\\\\": 60\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B3Q55WHV4NSMC3SDYJG6IHPMBDMI\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:18:10.527\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Warm up\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 60,\\\\n        \\\\\\\"minValue\\\\\\\": 55,\\\\n        \\\\\\\"maxValue\\\\\\\": 65\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Main Set\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 12600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 65,\\\\n        \\\\\\\"maxValue\\\\\\\": 70,\\\\n        \\\\\\\"minValue\\\\\\\": 60\\\\n      },\\\\n      \\\\\\\"openDuration\\\\\\\": true\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 55,\\\\n        \\\\\\\"minValue\\\\\\\": 50,\\\\n        \\\\\\\"maxValue\\\\\\\": 60\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:25:02.307Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B2BMZJWSMXJG5Y5NF75O2AJRYJBY\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:26:09.71\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Warm up\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 60\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Main Set\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 10800\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"maxValue\\\\\\\": 65,\\\\n        \\\\\\\"minValue\\\\\\\": 55,\\\\n        \\\\\\\"value\\\\\\\": 60\\\\n      },\\\\n      \\\\\\\"openDuration\\\\\\\": true\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 50\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nResponse data: \"Invalid workout structure\"\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: \"{\\\"workoutId\\\":2890462956,\\\"athleteId\\\":5390046,\\\"title\\\":\\\"zone 2 long\\\",\\\"workoutTypeValueId\\\":2,\\\"code\\\":null,\\\"workoutDay\\\":\\\"2024-11-27T00:00:00\\\",\\\"startTime\\\":null,\\\"startTimePlanned\\\":null,\\\"isItAnOr\\\":false,\\\"isHidden\\\":null,\\\"completed\\\":null,\\\"description\\\":\\\"2-4 Hours with heart rate max 130\\\",\\\"userTags\\\":\\\"\\\",\\\"coachComments\\\":null,\\\"workoutComments\\\":[],\\\"newComment\\\":null,\\\"publicSettingValue\\\":0,\\\"sharedWorkoutInformationKey\\\":\\\"X5PS3X2PKGKNVIUXBITRBNFW64\\\",\\\"sharedWorkoutInformationExpireKey\\\":\\\"QZO6QOHHRA2B2BMZJWSMXJG5Y5NF75O2AJRYJBY\\\",\\\"distance\\\":null,\\\"distancePlanned\\\":null,\\\"distanceCustomized\\\":null,\\\"distanceUnitsCustomized\\\":null,\\\"totalTime\\\":null,\\\"totalTimePlanned\\\":null,\\\"heartRateMinimum\\\":null,\\\"heartRateMaximum\\\":null,\\\"heartRateAverage\\\":null,\\\"calories\\\":null,\\\"caloriesPlanned\\\":null,\\\"tssActual\\\":null,\\\"tssPlanned\\\":null,\\\"tssSource\\\":0,\\\"if\\\":null,\\\"ifPlanned\\\":null,\\\"velocityAverage\\\":null,\\\"velocityPlanned\\\":null,\\\"velocityMaximum\\\":null,\\\"normalizedSpeedActual\\\":null,\\\"normalizedPowerActual\\\":null,\\\"powerAverage\\\":null,\\\"powerMaximum\\\":null,\\\"energy\\\":null,\\\"energyPlanned\\\":null,\\\"elevationGain\\\":null,\\\"elevationGainPlanned\\\":null,\\\"elevationLoss\\\":null,\\\"elevationMinimum\\\":null,\\\"elevationAverage\\\":null,\\\"elevationMaximum\\\":null,\\\"torqueAverage\\\":null,\\\"torqueMaximum\\\":null,\\\"tempMin\\\":null,\\\"tempAvg\\\":null,\\\"tempMax\\\":null,\\\"cadenceAverage\\\":null,\\\"cadenceMaximum\\\":null,\\\"lastModifiedDate\\\":\\\"2024-11-21T15:26:09.71\\\",\\\"equipmentBikeId\\\":null,\\\"equipmentShoeId\\\":null,\\\"isLocked\\\":null,\\\"complianceDurationPercent\\\":null,\\\"complianceDistancePercent\\\":null,\\\"complianceTssPercent\\\":null,\\\"rpe\\\":null,\\\"feeling\\\":null,\\\"structure\\\":\\\"{\\\\n  \\\\\\\"structure\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"WarmUp\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Warm up\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 900\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 60\\\\n      }\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"Active\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Main Set\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 10800\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"maxValue\\\\\\\": 65,\\\\n        \\\\\\\"minValue\\\\\\\": 55,\\\\n        \\\\\\\"value\\\\\\\": 60\\\\n      },\\\\n      \\\\\\\"openDuration\\\\\\\": true\\\\n    },\\\\n    {\\\\n      \\\\\\\"intensityClass\\\\\\\": \\\\\\\"CoolDown\\\\\\\",\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"Cool Down\\\\\\\",\\\\n      \\\\\\\"length\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"Second\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 600\\\\n      },\\\\n      \\\\\\\"type\\\\\\\": \\\\\\\"Step\\\\\\\",\\\\n      \\\\\\\"intensityTarget\\\\\\\": {\\\\n        \\\\\\\"unit\\\\\\\": \\\\\\\"PercentOfMaxHr\\\\\\\",\\\\n        \\\\\\\"value\\\\\\\": 50\\\\n      }\\\\n    }\\\\n  ]\\\\n}\\\",\\\"orderOnDay\\\":1,\\\"personalRecordCount\\\":0,\\\"syncedTo\\\":null,\\\"poolLengthOptionId\\\":null}\"\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:28:16.207Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T22:31:14.885Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B26IU5KS2T2PW3RNF75O2AJRYJBY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T15:26:09.71\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\n  \\\"structure\\\": [\\n    {\\n      \\\"intensityClass\\\": \\\"WarmUp\\\",\\n      \\\"name\\\": \\\"Warm up\\\",\\n      \\\"length\\\": {\\n        \\\"unit\\\": \\\"Second\\\",\\n        \\\"value\\\": 900\\n      },\\n      \\\"type\\\": \\\"Step\\\",\\n      \\\"intensityTarget\\\": {\\n        \\\"unit\\\": \\\"PercentOfMaxHr\\\",\\n        \\\"value\\\": 60\\n      }\\n    },\\n    {\\n      \\\"intensityClass\\\": \\\"Active\\\",\\n      \\\"name\\\": \\\"Main Set\\\",\\n      \\\"length\\\": {\\n        \\\"unit\\\": \\\"Second\\\",\\n        \\\"value\\\": 10800\\n      },\\n      \\\"type\\\": \\\"Step\\\",\\n      \\\"intensityTarget\\\": {\\n        \\\"unit\\\": \\\"PercentOfMaxHr\\\",\\n        \\\"maxValue\\\": 65,\\n        \\\"minValue\\\": 55,\\n        \\\"value\\\": 60\\n      },\\n      \\\"openDuration\\\": true\\n    },\\n    {\\n      \\\"intensityClass\\\": \\\"CoolDown\\\",\\n      \\\"name\\\": \\\"Cool Down\\\",\\n      \\\"length\\\": {\\n        \\\"unit\\\": \\\"Second\\\",\\n        \\\"value\\\": 900\\n      },\\n      \\\"type\\\": \\\"Step\\\",\\n      \\\"intensityTarget\\\": {\\n        \\\"unit\\\": \\\"PercentOfMaxHr\\\",\\n        \\\"value\\\": 55\\n      }\\n    }\\n  ]\\n}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B26IU5KS2T2PW3RNF75O2AJRYJBY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T15:26:09.71\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\n  \\\"structure\\\": [\\n    {\\n      \\\"intensityClass\\\": \\\"WarmUp\\\",\\n      \\\"name\\\": \\\"Warm up\\\",\\n      \\\"length\\\": {\\n        \\\"unit\\\": \\\"Second\\\",\\n        \\\"value\\\": 900\\n      },\\n      \\\"type\\\": \\\"Step\\\",\\n      \\\"intensityTarget\\\": {\\n        \\\"unit\\\": \\\"PercentOfMaxHr\\\",\\n        \\\"value\\\": 60\\n      }\\n    },\\n    {\\n      \\\"intensityClass\\\": \\\"Active\\\",\\n      \\\"name\\\": \\\"Main Set\\\",\\n      \\\"length\\\": {\\n        \\\"unit\\\": \\\"Second\\\",\\n        \\\"value\\\": 10800\\n      },\\n      \\\"type\\\": \\\"Step\\\",\\n      \\\"intensityTarget\\\": {\\n        \\\"unit\\\": \\\"PercentOfMaxHr\\\",\\n        \\\"maxValue\\\": 65,\\n        \\\"minValue\\\": 55,\\n        \\\"value\\\": 60\\n      },\\n      \\\"openDuration\\\": true\\n    },\\n    {\\n      \\\"intensityClass\\\": \\\"CoolDown\\\",\\n      \\\"name\\\": \\\"Cool Down\\\",\\n      \\\"length\\\": {\\n        \\\"unit\\\": \\\"Second\\\",\\n        \\\"value\\\": 900\\n      },\\n      \\\"type\\\": \\\"Step\\\",\\n      \\\"intensityTarget\\\": {\\n        \\\"unit\\\": \\\"PercentOfMaxHr\\\",\\n        \\\"value\\\": 55\\n      }\\n    }\\n  ]\\n}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:31:33.887Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B3W3JPBQQMTUPEC7IGEI5742YROY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T15:26:09.71\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\n  \\\"Structure\\\": [\\n    {\\n      \\\"IntensityClass\\\": \\\"WarmUp\\\",\\n      \\\"Name\\\": \\\"Warm up\\\",\\n      \\\"Length\\\": {\\n        \\\"Unit\\\": \\\"Second\\\",\\n        \\\"Value\\\": 600\\n      },\\n      \\\"Type\\\": \\\"Step\\\",\\n      \\\"IntensityTarget\\\": {\\n        \\\"Unit\\\": \\\"PercentOfThresholdHr\\\",\\n        \\\"Value\\\": 65,\\n        \\\"MinValue\\\": 60,\\n        \\\"MaxValue\\\": 70\\n      }\\n    },\\n    {\\n      \\\"IntensityClass\\\": \\\"Active\\\",\\n      \\\"Name\\\": \\\"Long Endurance\\\",\\n      \\\"Length\\\": {\\n        \\\"Unit\\\": \\\"Second\\\",\\n        \\\"Value\\\": 10800\\n      },\\n      \\\"Type\\\": \\\"Step\\\",\\n      \\\"IntensityTarget\\\": {\\n        \\\"Unit\\\": \\\"PercentOfThresholdHr\\\",\\n        \\\"Value\\\": 75,\\n        \\\"MinValue\\\": 70,\\n        \\\"MaxValue\\\": 80\\n      },\\n      \\\"OpenDuration\\\": true\\n    },\\n    {\\n      \\\"IntensityClass\\\": \\\"CoolDown\\\",\\n      \\\"Name\\\": \\\"Cool down\\\",\\n      \\\"Length\\\": {\\n        \\\"Unit\\\": \\\"Second\\\",\\n        \\\"Value\\\": 600\\n      },\\n      \\\"Type\\\": \\\"Step\\\",\\n      \\\"IntensityTarget\\\": {\\n        \\\"Unit\\\": \\\"PercentOfThresholdHr\\\",\\n        \\\"Value\\\": 65,\\n        \\\"MinValue\\\": 60,\\n        \\\"MaxValue\\\": 70\\n      }\\n    }\\n  ]\\n}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B3W3JPBQQMTUPEC7IGEI5742YROY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T15:26:09.71\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\n  \\\"Structure\\\": [\\n    {\\n      \\\"IntensityClass\\\": \\\"WarmUp\\\",\\n      \\\"Name\\\": \\\"Warm up\\\",\\n      \\\"Length\\\": {\\n        \\\"Unit\\\": \\\"Second\\\",\\n        \\\"Value\\\": 600\\n      },\\n      \\\"Type\\\": \\\"Step\\\",\\n      \\\"IntensityTarget\\\": {\\n        \\\"Unit\\\": \\\"PercentOfThresholdHr\\\",\\n        \\\"Value\\\": 65,\\n        \\\"MinValue\\\": 60,\\n        \\\"MaxValue\\\": 70\\n      }\\n    },\\n    {\\n      \\\"IntensityClass\\\": \\\"Active\\\",\\n      \\\"Name\\\": \\\"Long Endurance\\\",\\n      \\\"Length\\\": {\\n        \\\"Unit\\\": \\\"Second\\\",\\n        \\\"Value\\\": 10800\\n      },\\n      \\\"Type\\\": \\\"Step\\\",\\n      \\\"IntensityTarget\\\": {\\n        \\\"Unit\\\": \\\"PercentOfThresholdHr\\\",\\n        \\\"Value\\\": 75,\\n        \\\"MinValue\\\": 70,\\n        \\\"MaxValue\\\": 80\\n      },\\n      \\\"OpenDuration\\\": true\\n    },\\n    {\\n      \\\"IntensityClass\\\": \\\"CoolDown\\\",\\n      \\\"Name\\\": \\\"Cool down\\\",\\n      \\\"Length\\\": {\\n        \\\"Unit\\\": \\\"Second\\\",\\n        \\\"Value\\\": 600\\n      },\\n      \\\"Type\\\": \\\"Step\\\",\\n      \\\"IntensityTarget\\\": {\\n        \\\"Unit\\\": \\\"PercentOfThresholdHr\\\",\\n        \\\"Value\\\": 65,\\n        \\\"MinValue\\\": 60,\\n        \\\"MaxValue\\\": 70\\n      }\\n    }\\n  ]\\n}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:35:23.919Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B2RK2FMGJ22KNY67IGEI5742YROY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T15:26:09.71\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":{\"Structure\":[{\"IntensityClass\":\"WarmUp\",\"Name\":\"Warm up\",\"Length\":{\"Unit\":\"Second\",\"Value\":600},\"Type\":\"Step\",\"IntensityTarget\":{\"Unit\":\"PercentOfThresholdHr\",\"Value\":65,\"MinValue\":60,\"MaxValue\":70}},{\"IntensityClass\":\"Active\",\"Name\":\"Long Endurance\",\"Length\":{\"Unit\":\"Second\",\"Value\":10800},\"Type\":\"Step\",\"IntensityTarget\":{\"Unit\":\"PercentOfThresholdHr\",\"Value\":75,\"MinValue\":70,\"MaxValue\":80},\"OpenDuration\":true},{\"IntensityClass\":\"CoolDown\",\"Name\":\"Cool down\",\"Length\":{\"Unit\":\"Second\",\"Value\":600},\"Type\":\"Step\",\"IntensityTarget\":{\"Unit\":\"PercentOfThresholdHr\",\"Value\":65,\"MinValue\":60,\"MaxValue\":70}}]},\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B2RK2FMGJ22KNY67IGEI5742YROY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T15:26:09.71\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":{\"Structure\":[{\"IntensityClass\":\"WarmUp\",\"Name\":\"Warm up\",\"Length\":{\"Unit\":\"Second\",\"Value\":600},\"Type\":\"Step\",\"IntensityTarget\":{\"Unit\":\"PercentOfThresholdHr\",\"Value\":65,\"MinValue\":60,\"MaxValue\":70}},{\"IntensityClass\":\"Active\",\"Name\":\"Long Endurance\",\"Length\":{\"Unit\":\"Second\",\"Value\":10800},\"Type\":\"Step\",\"IntensityTarget\":{\"Unit\":\"PercentOfThresholdHr\",\"Value\":75,\"MinValue\":70,\"MaxValue\":80},\"OpenDuration\":true},{\"IntensityClass\":\"CoolDown\",\"Name\":\"Cool down\",\"Length\":{\"Unit\":\"Second\",\"Value\":600},\"Type\":\"Step\",\"IntensityTarget\":{\"Unit\":\"PercentOfThresholdHr\",\"Value\":65,\"MinValue\":60,\"MaxValue\":70}}]},\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:92:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:38:12.207Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to transform workout: Invalid workout structure format","stack":"Error: Failed to transform workout: Invalid workout structure format\n    at WorkoutTransformerService.transformWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/workout-transformer.service.ts:18:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:89:27)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:79:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:42:7)","timestamp":"2024-11-21T22:39:41.876Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T22:41:12.148Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to transform workout: Invalid workout structure format","stack":"Error: Failed to transform workout: Invalid workout structure format\n    at WorkoutTransformerService.transformWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/workout-transformer.service.ts:18:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:90:27)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-21T22:42:26.807Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T22:45:27.881Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B2PH2NXZMDVSMHK5JUROC5SVFPPY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:02:16.57\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":{\"structure\":[{\"type\":\"step\",\"intensityClass\":\"warmup\",\"name\":\"Warm up\",\"length\":{\"unit\":\"second\",\"value\":600},\"intensityTarget\":{\"unit\":\"percentOfThresholdHr\",\"value\":65,\"minValue\":60,\"maxValue\":70}},{\"type\":\"step\",\"intensityClass\":\"active\",\"name\":\"Long endurance ride\",\"length\":{\"unit\":\"second\",\"value\":12600},\"intensityTarget\":{\"unit\":\"percentOfThresholdHr\",\"value\":75,\"minValue\":70,\"maxValue\":80}},{\"type\":\"step\",\"intensityClass\":\"cooldown\",\"name\":\"Cool down\",\"length\":{\"unit\":\"second\",\"value\":600},\"intensityTarget\":{\"unit\":\"percentOfThresholdHr\",\"value\":65,\"minValue\":60,\"maxValue\":70}}]},\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B2PH2NXZMDVSMHK5JUROC5SVFPPY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:02:16.57\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":{\"structure\":[{\"type\":\"step\",\"intensityClass\":\"warmup\",\"name\":\"Warm up\",\"length\":{\"unit\":\"second\",\"value\":600},\"intensityTarget\":{\"unit\":\"percentOfThresholdHr\",\"value\":65,\"minValue\":60,\"maxValue\":70}},{\"type\":\"step\",\"intensityClass\":\"active\",\"name\":\"Long endurance ride\",\"length\":{\"unit\":\"second\",\"value\":12600},\"intensityTarget\":{\"unit\":\"percentOfThresholdHr\",\"value\":75,\"minValue\":70,\"maxValue\":80}},{\"type\":\"step\",\"intensityClass\":\"cooldown\",\"name\":\"Cool down\",\"length\":{\"unit\":\"second\",\"value\":600},\"intensityTarget\":{\"unit\":\"percentOfThresholdHr\",\"value\":65,\"minValue\":60,\"maxValue\":70}}]},\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:94:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-21T23:02:42.554Z"}
{"level":"error","message":"Failed to process workout 2890462956: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B2QBWPR22INILQG5JUROC5SVFPPY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:02:16.57\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"warmup\\\",\\\"name\\\":\\\"Warm up\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"active\\\",\\\"name\\\":\\\"Long endurance ride\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":12600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":75,\\\"minValue\\\":70,\\\"maxValue\\\":80}},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"cooldown\\\",\\\"name\\\":\\\"Cool down\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}}]}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890462956\nRequest method: put\nRequest data: {\"workoutId\":2890462956,\"athleteId\":5390046,\"title\":\"zone 2 long\",\"workoutTypeValueId\":2,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"2-4 Hours with heart rate max 130\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"X5PS3X2PKGKNVIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"QZO6QOHHRA2B2QBWPR22INILQG5JUROC5SVFPPY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:02:16.57\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"warmup\\\",\\\"name\\\":\\\"Warm up\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"active\\\",\\\"name\\\":\\\"Long endurance ride\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":12600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":75,\\\"minValue\\\":70,\\\"maxValue\\\":80}},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"cooldown\\\",\\\"name\\\":\\\"Cool down\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}}]}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:94:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-21T23:03:38.219Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T23:04:09.251Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T23:11:31.185Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T23:15:21.342Z"}
{"level":"error","message":"Failed to process workout 2890989926: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6MF45NLHDE6CWJPZTBCUHVNNVRZI\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:22:56.013\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"warmup\\\",\\\"name\\\":\\\"Warm up\\\",\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":600},\\\"steps\\\":[{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":200},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}},{\\\"name\\\":\\\"Kick\\\",\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":100},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}},{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":200},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}},{\\\"name\\\":\\\"Kick\\\",\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":100},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}}]},{\\\"type\\\":\\\"repetition\\\",\\\"name\\\":\\\"Main Set\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":100},\\\"steps\\\":[{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":25},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":8,\\\"minValue\\\":7,\\\"maxValue\\\":9}},{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":75},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}}]},{\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"intensityClass\\\":\\\"rest\\\"}]},{\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"intensityClass\\\":\\\"rest\\\"}]}],\\\"primaryLengthMetric\\\":\\\"distance\\\",\\\"primaryIntensityMetric\\\":\\\"rpe\\\",\\\"primaryIntensityTargetOrRange\\\":\\\"range\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6MF45NLHDE6CWJPZTBCUHVNNVRZI\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:22:56.013\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"warmup\\\",\\\"name\\\":\\\"Warm up\\\",\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":600},\\\"steps\\\":[{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":200},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}},{\\\"name\\\":\\\"Kick\\\",\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":100},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}},{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":200},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}},{\\\"name\\\":\\\"Kick\\\",\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":100},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}}]},{\\\"type\\\":\\\"repetition\\\",\\\"name\\\":\\\"Main Set\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":100},\\\"steps\\\":[{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":25},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":8,\\\"minValue\\\":7,\\\"maxValue\\\":9}},{\\\"length\\\":{\\\"unit\\\":\\\"meter\\\",\\\"value\\\":75},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"rpe\\\",\\\"value\\\":3,\\\"minValue\\\":2,\\\"maxValue\\\":4}}]},{\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"intensityClass\\\":\\\"rest\\\"}]},{\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"intensityClass\\\":\\\"rest\\\"}]}],\\\"primaryLengthMetric\\\":\\\"distance\\\",\\\"primaryIntensityMetric\\\":\\\"rpe\\\",\\\"primaryIntensityTargetOrRange\\\":\\\"range\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:93:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-21T23:23:52.993Z"}
{"level":"error","message":"Failed to process workout 2890992464: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890992464\nRequest method: put\nRequest data: {\"workoutId\":2890992464,\"athleteId\":5390046,\"title\":\"zone 2 run\",\"workoutTypeValueId\":3,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"1 hour run at target zone 2 heart rate\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CWP45LBQP6JZTIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"7ZT2PYFQYMISR77QME5M475AVLZTBCUHVNNVRZI\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":1,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:25:42.24\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"warmup\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"steps\\\":[{\\\"name\\\":\\\"Warm Up\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}}]},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":2400},\\\"steps\\\":[{\\\"name\\\":\\\"Zone 2 Run\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":2400},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":75,\\\"minValue\\\":70,\\\"maxValue\\\":80}}]},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"cooldown\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"steps\\\":[{\\\"name\\\":\\\"Cool Down\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"primaryIntensityTargetOrRange\\\":\\\"range\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890992464\nRequest method: put\nRequest data: {\"workoutId\":2890992464,\"athleteId\":5390046,\"title\":\"zone 2 run\",\"workoutTypeValueId\":3,\"code\":null,\"workoutDay\":\"2024-11-27T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"1 hour run at target zone 2 heart rate\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CWP45LBQP6JZTIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"7ZT2PYFQYMISR77QME5M475AVLZTBCUHVNNVRZI\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":1,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:25:42.24\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"warmup\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"steps\\\":[{\\\"name\\\":\\\"Warm Up\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}}]},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":2400},\\\"steps\\\":[{\\\"name\\\":\\\"Zone 2 Run\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":2400},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":75,\\\"minValue\\\":70,\\\"maxValue\\\":80}}]},{\\\"type\\\":\\\"step\\\",\\\"intensityClass\\\":\\\"cooldown\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"steps\\\":[{\\\"name\\\":\\\"Cool Down\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"intensityTarget\\\":{\\\"unit\\\":\\\"percentOfThresholdHr\\\",\\\"value\\\":65,\\\"minValue\\\":60,\\\"maxValue\\\":70}}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"primaryIntensityTargetOrRange\\\":\\\"range\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:93:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-21T23:26:11.523Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-21T23:27:55.051Z"}
{"level":"error","message":"Failed to process workout 2890989926: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6MXQENLQZQXDB3F5KB6S22SIYMHA\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:42:53.653\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":1},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"warmUp\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"name\\\":\\\"Warm up\\\"}]},{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"25 hard, 75 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"50 hard, 50 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"75 hard, 25 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":70,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"100 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":90}],\\\"notes\\\":\\\"100 hard\\\"},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}]}]},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}],\\\"notes\\\":\\\"2 min break between sets\\\"}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"visualizationDistanceUnit\\\":\\\"undefined\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6MXQENLQZQXDB3F5KB6S22SIYMHA\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:42:53.653\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":1},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"warmUp\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"name\\\":\\\"Warm up\\\"}]},{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"25 hard, 75 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"50 hard, 50 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"75 hard, 25 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":70,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"100 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":90}],\\\"notes\\\":\\\"100 hard\\\"},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}]}]},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}],\\\"notes\\\":\\\"2 min break between sets\\\"}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"visualizationDistanceUnit\\\":\\\"undefined\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:93:9)\n    at Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-21T23:43:30.767Z"}
{"level":"error","message":"Failed to process workout 2890989926: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6M5H2D5LS2GGBQVTURULGOXRHRTQ\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:42:53.653\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":1},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"warmUp\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"name\\\":\\\"Warm up\\\"}]},{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"25 hard, 75 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"50 hard, 50 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"75 hard, 25 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":70,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"100 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":90}],\\\"notes\\\":\\\"100 hard\\\"},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"targets\\\":[{\\\"minValue\\\":0}]}]},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"targets\\\":[{\\\"minValue\\\":0}],\\\"notes\\\":\\\"2 min break between sets\\\"}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"visualizationDistanceUnit\\\":\\\"undefined\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6M5H2D5LS2GGBQVTURULGOXRHRTQ\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:42:53.653\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":1},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"warmUp\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"name\\\":\\\"Warm up\\\"}]},{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"25 hard, 75 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"50 hard, 50 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"75 hard, 25 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":70,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"100 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":90}],\\\"notes\\\":\\\"100 hard\\\"},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"targets\\\":[{\\\"minValue\\\":0}]}]},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"targets\\\":[{\\\"minValue\\\":0}],\\\"notes\\\":\\\"2 min break between sets\\\"}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"visualizationDistanceUnit\\\":\\\"undefined\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:93:9)\n    at async Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at async Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-22T00:59:47.743Z"}
{"level":"error","message":"Failed to process workout 2890989926: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6NMOPJRBC6XMAC2YEDMOR2VGQ7BY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:42:53.653\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":1},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"warmUp\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"name\\\":\\\"Warm up\\\"}]},{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"25 hard, 75 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"50 hard, 50 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"75 hard, 25 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"100 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"100 hard\\\"},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}]}]},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}],\\\"notes\\\":\\\"2 min break between sets\\\"}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"visualizationDistanceUnit\\\":\\\"undefined\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}","stack":"Error: Failed to update workout:\nStatus: 400\nMessage: Request failed with status code 400\nRequest URL: https://tpapi.trainingpeaks.com/fitness/v6/athletes/5390046/workouts/2890989926\nRequest method: put\nRequest data: {\"workoutId\":2890989926,\"athleteId\":5390046,\"title\":\"fatlek\",\"workoutTypeValueId\":1,\"code\":null,\"workoutDay\":\"2024-11-28T00:00:00\",\"startTime\":null,\"startTimePlanned\":null,\"isItAnOr\":false,\"isHidden\":null,\"completed\":null,\"description\":\"Warm up (600)\\n200 steady\\n100 kick\\n200 steady\\n100 kick\\n\\nMain Set (2000)\\n4 x [\\n5 x 100 with 30s rest as [\\n25 hard, 75 easy\\n50 hard, 50 easy\\n75 hard, 50 easy\\n100 easy\\n100 hard\\n] - 2 min break between 5x100 sets\",\"userTags\":\"\",\"coachComments\":null,\"workoutComments\":[],\"newComment\":null,\"publicSettingValue\":0,\"sharedWorkoutInformationKey\":\"CXYFIOATJCTQFIUXBITRBNFW64\",\"sharedWorkoutInformationExpireKey\":\"IVT4UEY2JBE6NMOPJRBC6XMAC2YEDMOR2VGQ7BY\",\"distance\":null,\"distancePlanned\":null,\"distanceCustomized\":null,\"distanceUnitsCustomized\":null,\"totalTime\":null,\"totalTimePlanned\":null,\"heartRateMinimum\":null,\"heartRateMaximum\":null,\"heartRateAverage\":null,\"calories\":null,\"caloriesPlanned\":null,\"tssActual\":null,\"tssPlanned\":null,\"tssSource\":0,\"if\":null,\"ifPlanned\":null,\"velocityAverage\":null,\"velocityPlanned\":null,\"velocityMaximum\":null,\"normalizedSpeedActual\":null,\"normalizedPowerActual\":null,\"powerAverage\":null,\"powerMaximum\":null,\"energy\":null,\"energyPlanned\":null,\"elevationGain\":null,\"elevationGainPlanned\":null,\"elevationLoss\":null,\"elevationMinimum\":null,\"elevationAverage\":null,\"elevationMaximum\":null,\"torqueAverage\":null,\"torqueMaximum\":null,\"tempMin\":null,\"tempAvg\":null,\"tempMax\":null,\"cadenceAverage\":null,\"cadenceMaximum\":null,\"lastModifiedDate\":\"2024-11-21T16:42:53.653\",\"equipmentBikeId\":null,\"equipmentShoeId\":null,\"isLocked\":null,\"complianceDurationPercent\":null,\"complianceDistancePercent\":null,\"complianceTssPercent\":null,\"rpe\":null,\"feeling\":null,\"structure\":\"{\\\"structure\\\":[{\\\"type\\\":\\\"step\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":1},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"warmUp\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":600},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"name\\\":\\\"Warm up\\\"}]},{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":4},\\\"steps\\\":[{\\\"type\\\":\\\"repetition\\\",\\\"length\\\":{\\\"unit\\\":\\\"repetition\\\",\\\"value\\\":5},\\\"steps\\\":[{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"25 hard, 75 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"50 hard, 50 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"75 hard, 25 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":65,\\\"maxValue\\\":75}],\\\"notes\\\":\\\"100 easy\\\"},{\\\"intensityClass\\\":\\\"active\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":100},\\\"targets\\\":[{\\\"minValue\\\":85,\\\"maxValue\\\":95}],\\\"notes\\\":\\\"100 hard\\\"},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":30},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}]}]},{\\\"intensityClass\\\":\\\"rest\\\",\\\"length\\\":{\\\"unit\\\":\\\"second\\\",\\\"value\\\":120},\\\"targets\\\":[{\\\"minValue\\\":50,\\\"maxValue\\\":60}],\\\"notes\\\":\\\"2 min break between sets\\\"}]}],\\\"primaryLengthMetric\\\":\\\"duration\\\",\\\"primaryIntensityMetric\\\":\\\"percentOfThresholdHr\\\",\\\"visualizationDistanceUnit\\\":\\\"undefined\\\"}\",\"orderOnDay\":1,\"personalRecordCount\":0,\"syncedTo\":null,\"poolLengthOptionId\":null}\n    at TrainingPeaksService.updateWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/services/trainingpeaks.service.ts:51:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:93:9)\n    at async Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at async Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","timestamp":"2024-11-25T15:39:00.799Z"}
{"error":{"error":{"message":"Overloaded","type":"overloaded_error"},"type":"error"},"headers":{"cache-control":"no-store, no-cache","cf-cache-status":"DYNAMIC","cf-ray":"8e82e98bff92ed3a-SJC","connection":"keep-alive","content-length":"75","content-type":"application/json","date":"Mon, 25 Nov 2024 16:11:08 GMT","request-id":"req_01GX6aend4RKG6fZN4SdXXTg","server":"cloudflare","via":"1.1 google","x-robots-tag":"none","x-should-retry":"true"},"level":"error","message":"Failed to process workout 2863444173: 529 {\"type\":\"error\",\"error\":{\"type\":\"overloaded_error\",\"message\":\"Overloaded\"}}","stack":"Error: 529 {\"type\":\"error\",\"error\":{\"type\":\"overloaded_error\",\"message\":\"Overloaded\"}}\n    at Function.generate (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/error.ts:86:14)\n    at Anthropic.makeStatusError (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:383:21)\n    at Anthropic.makeRequest (/Users/paolo/work/newstuff/trainingpeaks/node_modules/@anthropic-ai/sdk/src/core.ts:446:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ClaudeService.transformWorkoutDescription (/Users/paolo/work/newstuff/trainingpeaks/src/services/claude.service.ts:33:22)\n    at async Scheduler.processWorkout (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:90:27)\n    at async Scheduler.processWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:80:7)\n    at async Scheduler.scheduleNextRun (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:43:7)","status":529,"timestamp":"2024-11-25T16:11:08.081Z"}
{"level":"error","message":"Login failed:","timestamp":"2024-11-27T22:23:34.185Z"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:37:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:37:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:36:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:36:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:36:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:36:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:36:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:36:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
{"level":"error","message":"Login failed:"}
{"level":"error","message":"Processing failed: Authentication failed: page.goto: Timeout 30000ms exceeded.\nCall log:\n\u001b[2m  - navigating to \"https://home.trainingpeaks.com/login\", waiting until \"networkidle\"\u001b[22m\n","stack":"Error: Authentication failed: page.goto: Timeout 30000ms exceeded.\nCall log:\n\u001b[2m  - navigating to \"https://home.trainingpeaks.com/login\", waiting until \"networkidle\"\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:90:13)\n    at async WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:7)\n    at async WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:7)\n    at async main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:5)"}
{"level":"error","message":"Processing failed: browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n","name":"Error","stack":"browserType.connectOverCDP: WebSocket error: wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\nCall log:\n\u001b[2m  - <ws connecting> wss://connect.browserbase.com/\u001b[22m\n\u001b[2m  - <ws unexpected response> wss://connect.browserbase.com/ 401 Unauthorized - Is apiKey set as a query parameter?\u001b[22m\n\u001b[2m  - <ws error> wss://connect.browserbase.com/ error WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws connect error> wss://connect.browserbase.com/ WebSocket was closed before the connection was established\u001b[22m\n\u001b[2m  - <ws disconnected> wss://connect.browserbase.com/ code=1006 reason=\u001b[22m\n\n    at AuthService.login (/Users/paolo/work/newstuff/trainingpeaks/src/services/auth.service.ts:37:36)\n    at WorkoutProcessor.ensureAuthentication (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:37:30)\n    at WorkoutProcessor.processAllWorkouts (/Users/paolo/work/newstuff/trainingpeaks/src/utils/scheduler.ts:22:18)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:10:21)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/src/index.ts:18:1)\n    at Module.m._compile (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1618:23)\n    at Object.require.extensions.<computed> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/index.ts:1621:12)\n    at phase4 (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:649:14)\n    at bootstrap (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:95:10)\n    at main (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:55:10)\n    at Object.<anonymous> (/Users/paolo/work/newstuff/trainingpeaks/node_modules/ts-node/src/bin.ts:800:3)"}
